<h2>トピック</h2>
<h3><%= @post.title %></h3>
<!-- simple_formatで改行を反映させる -->
<div class="article">
    <p class="author">作者: <%= @post.author %> <span class="date">投稿日: <%= @post.created_at.in_time_zone('Tokyo').strftime('%Y/%m/%d %H:%M') %></span></p>
    <%= simple_format @post.body, :class => 'p-3' %>
    <p class="date">
        最終更新日: <%= @post.updated_at.in_time_zone('Tokyo').strftime('%Y/%m/%d %H:%M') %>
    </p>
</div>
<!--comment欄  -->
<h2>コメント欄</h2>
<% if @post.comments.any? %>
    <% @post.comments.each_with_index do |comment,i| %>
    <div class="article mt-2">
        <%= i + 1 %>
            <%= simple_format(comment.body, :class => 'pl-2') %>
    </div>
    <% end %>
<% end %>
<!-- 複数のモデルを渡す場合は、配列かつ、カッコで括る
    build モデルオブジェクトの生成(saveやdestroyが使える) -->
<%= form_for([@post, @post.comments.build]) do |f| %>
<!-- コメント入力 -->
    <div class="form-group">
        <%= f.text_area :body,class: 'form-control mt-3' %>
    </p>
<!-- submit -->
    <div class="form-group">
        <%= f.submit 'コメント投稿',class: 'btn btn-block btn-success' %>
    </p>
<% end %>