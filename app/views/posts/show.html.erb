<h2>トピック</h2>
<h3><%= @post.title %></h3>
<!-- simple_formatで改行を反映させる -->
<div class="article">
    <p class="author">作者: <%= @post.author %> <span>投稿日: <%= @post.created_at.in_time_zone('Tokyo').strftime('%Y/%m/%d %H:%M') %></span></p>
    <p><%= simple_format @post.body %></p>
    <p>
       
        最終更新日: <%= @post.updated_at.in_time_zone('Tokyo').strftime('%Y/%m/%d %H:%M') %>
    </p>
</div>
<!--comment欄  -->
<h2>コメント欄</h2>
    <% if @post.comments.any? 
        i = 0
    %>
        <!-- <ul> -->
            <% @post.comments.each do |comment| 
                i +=1
                %>
            <!-- <li> -->
            <div class="article">
                <p><%= i %>
                <p>
                    <%= simple_format comment.body %>
                </p>
                <%=

=begin
                    link_to '[x]',
                    # 上の@postとcommentを渡す。routesで必要な引数の確認をする
                    post_comment_path(@post.id,comment),
                    # deleteと明示的にするために必要
                    method: :delete,
                    class: 'command',
                    # 確認ダイアログ
                    data: {confirm: '削除しますか?'}
=end
                %>
               </li>
           </div>
            <% end %>
        <!-- </ul> -->
    <% end %>
    <!-- 複数のモデルを渡す場合は、配列かつ、カッコで括る
    build モデルオブジェクトの生成(saveやdestroyが使える) -->
<%= form_for([@post, @post.comments.build]) do |f| %>
<!-- コメント入力 -->
    <p>
        <%= f.text_area :body,class: 'comment_body' %>
    </p>
<!-- submit -->
    <p>
        <%= f.submit 'コメント投稿',class: 'submit' %>
    </p>
<% end %>